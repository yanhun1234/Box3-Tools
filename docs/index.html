<!DOCTYPE html>
<html>

<head>
    <title>BOX3-Tools</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="icon" href="https://box3.codemao.cn/favicon.ico" type="icon">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/theme/dracula.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/mode/javascript/javascript.min.js"></script>
    <style>
        .typed-out {
            overflow: hidden;
            border-right: .15em solid orange;
            white-space: nowrap;
            animation:
                typing 2s steps(20, end) forwards;
            font-size: 1.6rem;
            width: 0;
        }

        @keyframes typing {
            from {
                width: 0
            }

            to {
                width: 100%
            }
        }
    </style>
</head>

<body style="height: 685px;background-image:linear-gradient(0deg,#16d9e3 0%, #30c7ec 47%, #46aef7 100%)">
    <div class="container">
        <div class="row clearfix" style="margin-bottom: 60px;">
            <div class="col-md-12 column">
                <h3 class="text-center">
                    Box3-Tools主页面
                </h3>
                <h4 class="text-center" style="color: #919191;">
                        本网站界面由 <strong>Yanhun1234-SoulCoding-Soul</strong>和<strong>Nomen</strong>开发<br />
                    <a href="https://github.com/helloyork/Box3-Tools" target="_blank">Nomen小队 Box3-Tools仓库</a>
                    </h3>
            </div>
        </div>
        <script>
            function getSrcUrl(father, child) {
                return `https://raw.githubusercontent.com/helloyork/Box3-Tools/main/src/${encodeURIComponent(father)}/${encodeURIComponent(child)}/${encodeURIComponent('index.js')}`;
            }
            fetch('https://raw.githubusercontent.com/helloyork/Box3-Tools/main/project/src.json')
                .then(v => v.json())
                .then(v => {
                    let tw = Object.keys(v);
                    tw.forEach((c, i) => {
                        let twele = document.createElement('div');
                        twele.innerHTML = `
                        <div class="panel-group" id="panels-1">
                            <div class="panel panel-default">
                                <a class="panel-title collapsed" data-toggle="collapse" data-parent="#panels-1" style="text-decoration:none;"
                                    href="#panel-element-MAIN-${i}"><div class="panel-heading" style="text-decoration:none;">${c}</div></a>
                                <div id="panel-element-MAIN-${i}" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <div class="row clearfix">
                                            <div class="col-md-12 column">
                                                <blockquote style="text-decoration:none;">
                                                    <h2>${c}</h2>
                                                </blockquote>
                                            <div class="panel-group" id="panel-586155">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>`;
                        for (let r = 0; r < v[c].length; r++) {
                            fetch(getSrcUrl(c, v[c][r]))
                                .then(u => u.text())
                                .then(u => {
                                    let pnele = document.querySelector(`#panel-element-MAIN-${i}`).querySelector('#panel-586155');
                                    let pnelechild = document.createElement('div');
                                    pnelechild.innerHTML = `<div class="panel panel-default">
                                    <a class="panel-title collapsed" data-toggle="collapse" data-parent="#panel-586155" style="text-decoration:none;"
                                        href="#panel-element-${i}-${r}"><div class="panel-heading" style="text-decoration:none;">${v[c][r]}</div></a>
                                <div id="panel-element-${i}-${r}" class="panel-collapse collapse">
                                    <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
                                        <pre>
                                        <div id="editor">
                                            ${hljs.highlight(u, { language: 'javascript' }).value}
                                        </div>
                                    </pre>
                                    </div>
                                </div>
                            </div>`;
                                    pnele.appendChild(pnelechild);
                                })
                        }
                        document.getElementById('tlsbody').appendChild(twele);
                    })
                }).catch(e => console.error(e));
        </script>
        <div id="tlsbody">
        </div>
        <script>
            // 创建CodeMirror编辑器
		var editor = CodeMirror(document.getElementById("editor"), {
			value: "
            function factorial(n) {\n    if (n === 0 || n === 1) {\n        return 1;\n    } else {\n        return n * factorial(n - 1);\n    }\n}\n\n// 调用函数并打印结果\nconsole.log(factorial(5)); // 输出：120",
			mode: "javascript",
			theme: "dracula",
			lineNumbers: true,
			indentUnit: 4,
			smartIndent: true,
			matchBrackets: true,
			autofocus: true,
			extraKeys: {"Ctrl-Space": "autocomplete"}
		});
        </script>
</body>

</html>
